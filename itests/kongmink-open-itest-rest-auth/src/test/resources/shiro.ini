# =======================
# Shiro INI configuration
# =======================
[main]
# Objects and their properties are defined here,
# Such as the securityManager, Realms and anything
# else needed to build the SecurityManager
roleAdminAuthGenerator = org.pac4j.core.authorization.generator.FromAttributesAuthorizationGenerator
roleAdminAuthGenerator.roleAttributes = roles
roleAdminAuthGenerator.permissionAttributes = permissions

oidcAuthenticator = org.javaloong.kongmink.open.rest.auth.credentials.authenticator.DummyOidcAuthenticator

oidcClient = org.pac4j.http.client.direct.DirectBearerAuthClient
oidcClient.name = OidcClient
oidcClient.authenticator = $oidcAuthenticator
oidcClient.authorizationGenerator = $roleAdminAuthGenerator

clients.clients = $oidcClient

############################################################################
# REALM & FILTERS:
############################################################################
oidcSecurityFilter = io.buji.pac4j.filter.SecurityFilter
oidcSecurityFilter.config = $config
oidcSecurityFilter.clients = OidcClient

[urls]
# The 'urls' section is used for url-based security
# in web applications.  We'll discuss this section in the
# Web documentation
/user/** = oidcSecurityFilter
/clients/** = oidcSecurityFilter
/** = anon
