# =======================
# Shiro INI configuration
# =======================
[main]
# Objects and their properties are defined here,
# Such as the securityManager, Realms and anything
# else needed to build the SecurityManager
roleAdminAuthGenerator = org.pac4j.core.authorization.generator.FromAttributesAuthorizationGenerator
roleAdminAuthGenerator.roleAttributes = roles
roleAdminAuthGenerator.permissionAttributes = permissions

dummyAuthenticator = org.javaloong.kongmink.open.rest.auth.jwt.DummyAuthenticator

directBearerAuthClient = org.pac4j.http.client.direct.DirectBearerAuthClient
directBearerAuthClient.authenticator = $dummyAuthenticator
directBearerAuthClient.authorizationGenerator = $roleAdminAuthGenerator

clients.clients = $directBearerAuthClient

############################################################################
# REALM & FILTERS:
############################################################################
jwtSecurityFilter = io.buji.pac4j.filter.SecurityFilter
jwtSecurityFilter.config = $config
jwtSecurityFilter.clients = DirectBearerAuthClient

[urls]
# The 'urls' section is used for url-based security
# in web applications.  We'll discuss this section in the
# Web documentation
/clients/** = noSessionCreation,jwtSecurityFilter
/user/** = noSessionCreation,jwtSecurityFilter
/** = anon
